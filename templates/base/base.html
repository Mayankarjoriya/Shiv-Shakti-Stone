{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}StoneCraft{% endblock %}</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Your Custom CSS -->
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}">
</head>
<body>

    <header>
        <nav class="navbar">
            <a href="{% url 'home' %}" class="logo">
                <i class="fas fa-gem"></i>
                Shiv Shakti Stone
            </a>
            
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="{% url 'home' %}" class="nav-link">
                        <i class="fas fa-home"></i> Home
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'product_list' %}" class="nav-link">
                        <i class="fas fa-cubes"></i> Products
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{% url 'contact' %}" class="nav-link">
                        <i class="fas fa-phone"></i> Contact
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Main content block -->
    <main class="container py-4">
        {% block content %}
        <!-- Page-specific content will be injected here -->
        {% endblock %}
    </main>

    <!-- Standard Footer -->
  <footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-section contact-info">
        <h3>Contact Us</h3>
        <p><i class="fas fa-map-marker-alt"></i>Shiv Shakti Stone, Sikandara Jaipur Road</p>
        <p><i class="fas fa-phone"></i> <a href="tel:+11234567890">+91 9799416741</a></p>   
        <p><i class="fas fa-phone"></i> <a href="tel:+11234567890">+91 8094972696</a></p>
        <p><i class="fas fa-envelope"></i> <a href="mailto: shivshaktistone0@gmail.com">shivshaktistone0@gmail.com</a></p>
      </div>

      <div class="footer-section quick-links">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="{% url 'home' %}">Home</a></li>
          {% comment %} <li><a href="{% url 'about' %}">About Us</a></li> {% endcomment %}
          <li><a href="#features">Services</a></li>
          <li><a href="{% url 'product_list' %}">Products</a></li>
          <li><a href="{% url 'contact' %}">Contact</a></li>
        </ul>
      </div>

      <div class="footer-section social">
        <h3>Follow Us</h3>
        <div class="social-icons">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          {% comment %} <a href="#"><i class="fab fa-linkedin-in"></i></a> {% endcomment %}
          {% comment %} <a href="#"><i class="fab fa-pinterest"></i></a> {% endcomment %}
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <p>Shiv-Shakti Stone. All rights reserved.</p>
    </div>
  </div>
</footer> 


    <!-- MOBILE BOTTOM DOCK (Visible only on Mobile) -->
 <nav class="mobile-bottom-dock d-lg-none">
        <a href="{% url 'home' %}" class="dock-item" id="dock-home">
            <i class="fas fa-home"></i>
            Home
        </a>
        <a href="{% url 'product_list' %}" class="dock-item" id="dock-products">
            <i class="fas fa-cubes"></i>
            Products
        </a>
        <a href="{% url 'contact' %}" class="dock-item" id="dock-contact">
            <i class="fas fa-envelope"></i>
            Contact
        </a>
        <!-- Add a placeholder or utility link here if needed, like a Cart or Search -->
        
    </nav>
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <!-- Your Custom JS -->
     <script>

         // Custom JS to handle the active state of the mobile dock items
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname;
            const dockItems = document.querySelectorAll('.mobile-bottom-dock .dock-item');

            dockItems.forEach(item => {
                const itemHref = item.getAttribute('href');
                
                // Simple logic for setting active state based on current URL path
                if (currentPath === itemHref || 
                    (itemHref.includes('products') && currentPath.includes('products')) ||
                    (itemHref.includes('contact') && currentPath.includes('contact')) ||
                    (itemHref === '/' && currentPath === '/')
                ) {
                    // Remove active from all first
                    dockItems.forEach(i => i.classList.remove('active'));
                    // Set active on the matching item
                    item.classList.add('active');
                }
            });
        });
        
        // Custom Cursor
        const cursor = document.querySelector('.cursor');
        const follower = document.querySelector('.cursor-follower');

        let timeout;

        document.addEventListener('mousemove', (e) => {
            if (!cursor || !follower) return;

            const x = e.clientX;
            const y = e.clientY;

            cursor.style.left = `${x}px`;
            cursor.style.top = `${y}px`;

            requestAnimationFrame(() => {
                follower.style.left = `${x}px`;
                follower.style.top = `${y}px`;
            });
            
            clearTimeout(timeout);
            cursor.style.width = '20px';
            cursor.style.height = '20px';
            follower.style.width = '40px';
            follower.style.height = '40px';

            timeout = setTimeout(() => {
                cursor.style.width = '6px';
                cursor.style.height = '6px';
                follower.style.width = '20px';
                follower.style.height = '20px';
            }, 100);
        });

        // Hover effect for links and buttons
        const hoverElements = document.querySelectorAll('button, .btn, a');
        hoverElements.forEach(button => {
            button.addEventListener('mouseenter', () => {
                if(follower) {
                    follower.style.width = '50px';
                    follower.style.height = '50px';
                }
            });
            button.addEventListener('mouseleave', () => {
                if(follower) {
                    follower.style.width = '20px';
                    follower.style.height = '20px';
                }
            });
        });

        // Ripple effect on buttons
        document.querySelectorAll('button, .btn').forEach(button => {
            button.addEventListener('click', function(e) {
                
                const x = e.clientX - e.target.getBoundingClientRect().left;
                const y = e.clientY - e.target.getBoundingClientRect().top;
                
                const ripple = document.createElement('span');
                ripple.classList.add('ripple');
                ripple.style.left = `${x}px`;
                ripple.style.top = `${y}px`;
                
                this.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });

        // Mobile Menu Toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navMenu = document.querySelector('.nav-menu');

        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    navMenu.classList.remove('active');
                }
            });
        }); 

        // Scroll animations
        const fadeElements = document.querySelectorAll('.fade-in');

        const appearOptions = {
            threshold: 0.15,
            rootMargin: "0px 0px -100px 0px"
        };

        const appearOnScroll = new IntersectionObserver((entries, appearOnScroll) => {
            entries.forEach(entry => {
                if (!entry.isIntersecting) {
                    return;
                } else {
                    entry.target.classList.add('appear');
                    appearOnScroll.unobserve(entry.target);
                }
            });
        }, appearOptions);

        fadeElements.forEach(element => {
            appearOnScroll.observe(element);
        });

        // Parallax effect on hero image
        document.addEventListener('mousemove', (e) => {
            const heroImage = document.querySelector('.hero-image img');
            if (!heroImage) return;

            if (document.querySelector('.hero-image:hover')) {
                heroImage.style.transform = 'perspective(1000px) rotateY(0deg)';
                return;
            }
            
            const x = (e.pageX - (window.innerWidth / 2)) / 50;
            const y = (e.pageY - (window.innerHeight / 2)) / 50;
            
            const xRot = Math.max(-10, Math.min(10, -y * 0.5));
            const yRot = Math.max(-10, Math.min(10, x * 0.5));

            heroImage.style.transform = `perspective(1000px) rotateX(${xRot}deg) rotateY(${yRot}deg)`;
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    return;
                }
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80, // Offset for fixed header
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Product Filter Sidebar Toggle
        const filterToggleBtn = document.getElementById('filter-toggle-btn');
        const filterSidebar = document.getElementById('filter-sidebar');
        const closeFiltersBtn = document.getElementById('close-filters-btn');
        const filterOverlay = document.getElementById('filter-overlay');

        if (filterToggleBtn && filterSidebar && closeFiltersBtn && filterOverlay) {
            const toggleFilters = () => {
                filterSidebar.classList.toggle('open');
                filterOverlay.classList.toggle('open');
            };

            filterToggleBtn.addEventListener('click', toggleFilters);
            closeFiltersBtn.addEventListener('click', toggleFilters);
            filterOverlay.addEventListener('click', toggleFilters);
        }


    </script>
</body>
</html>
